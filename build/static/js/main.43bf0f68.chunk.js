(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{137:function(e,t,a){},149:function(e,t,a){e.exports=a.p+"static/media/list.3487ab4b.svg"},164:function(e,t,a){e.exports=a(192)},176:function(e,t,a){},177:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),i=a.n(l),c=a(78),o=a(104),u=a(105),s=a(106),d=a(140),m=a(144),f=a(158),b=a(15),p=a(72),E=a(147),v=a(148),g=a(201),k=function(e,t){return function(a){var n=Object(g.a)();a({type:"ADD_ALERT",data:{header:e,body:t,id:n}}),setTimeout((function(){a(function(e){return{type:"CLEAR",id:e}}(n))}),5e3)}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALERT":return e.concat(t.data);case"CLEAR":return e.filter((function(e){return e.id!==t.id}));default:return e}},h=a(30),O=a(19),y=a(54),F=function(e){return{type:"ADD_ITEM",data:{shopListIds:e.shopListIds,objectId:e.objectId,set:e.set}}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{foodPacks:[],foods:[],ingredients:[],shopListIds:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT":break;case"ADD_ITEM":var a,n=Object(y.a)(e.shopListIds);t.data.shopListIds.forEach((function(e){n.map((function(e){return e.id})).includes(e)?n.some((function(t){return t.id===e&&(t.count++,!0)})):n.push({id:e,count:1})}));var r=e[t.data.set].find((function(e){return e.id===t.data.objectId}));if(r){var l,i=Object(y.a)(e[t.data.set]);return i.forEach((function(e){e.id===t.data.objectId&&e.count++})),Object(O.a)({},e,(l={},Object(h.a)(l,t.data.set,i),Object(h.a)(l,"shopListIds",n),l))}return Object(O.a)({},e,(a={},Object(h.a)(a,t.data.set,e[t.data.set].concat({id:t.data.objectId,count:1})),Object(h.a)(a,"shopListIds",n),a));case"REMOVE":var c,o=Object(y.a)(e.shopListIds);t.data.shopListIds.forEach((function(e){o.filter((function(t){return t.id!==e||t.count>1&&(t.count--,!0)}))}));var u,s=e[t.data.set].find((function(e){return e.id===t.data.objectId}));if(1===s.count)return Object(O.a)({},e,(u={},Object(h.a)(u,t.data.set,e[t.data.set].filter((function(e){return e.id!==t.data.objectId}))),Object(h.a)(u,"shopListIds",o),u));var d=Object(y.a)(e[t.data.set]);return d.forEach((function(e){e.id===t.data.objectId&&e.count--})),Object(O.a)({},e,(c={},Object(h.a)(c,t.data.set,d),Object(h.a)(c,"shopListIds",o),c));case"EMPTY":return{foodPacks:[],foods:[],ingredients:[],shopListIds:[]};default:return e}},P=Object(p.combineReducers)({alerts:j,shopList:I}),x=Object(p.createStore)(P,Object(v.composeWithDevTools)(Object(p.applyMiddleware)(E.a))),S=a(6),w=(a(137),a(12)),D=a(141),L=a(142),A=a(138),$=a(84),R=a.n($),N=a(17),C=a(11);function T(){var e=Object(N.a)(["\n  mutation updateIngredient(\n    $id: ID!\n    $name: String!\n    $prices: [Float!]\n    $brand: String\n    $pieces: Int\n    $weight: Float\n    $kcal: Float\n    $fat: Float\n    $saturatedFat: Float\n    $carbs: Float\n    $sugars: Float\n    $protein: Float\n    $salt: Float\n  ) {\n    updateIngredient(\n      id: $id\n      name: $name\n      prices: $prices\n      pieces: $pieces\n      brand: $brand\n      weight: $weight\n      kcal: $kcal\n      fat: $fat\n      saturatedFat: $saturatedFat\n      carbs: $carbs\n      sugars: $sugars\n      protein: $protein\n      salt: $salt\n    ) {\n      ...IngredientDetailsWithRef\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function _(){var e=Object(N.a)(["\n  mutation deleteIngredient($id: ID!) {\n    deleteIngredient(id: $id) {\n      ...IngredientDetailsWithRef\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function H(){var e=Object(N.a)(["\n  subscription {\n    ingredientAdded {\n      ...IngredientDetailsWithRef\n    }\n  }\n  ","\n"]);return H=function(){return e},e}function q(){var e=Object(N.a)(["\n  mutation addIngredient(\n    $name: String!\n    $prices: [Float!]\n    $brand: String\n    $pieces: Int\n    $weight: Float\n    $kcal: Float\n    $fat: Float\n    $saturatedFat: Float\n    $carbs: Float\n    $sugars: Float\n    $protein: Float\n    $salt: Float\n  ) {\n    addIngredient(\n      name: $name\n      prices: $prices\n      pieces: $pieces\n      brand: $brand\n      weight: $weight\n      kcal: $kcal\n      fat: $fat\n      saturatedFat: $saturatedFat\n      carbs: $carbs\n      sugars: $sugars\n      protein: $protein\n      salt: $salt\n    ) {\n      ...IngredientDetailsWithRef\n    }\n  }\n  ","\n"]);return q=function(){return e},e}function M(){var e=Object(N.a)(["\n  query allIngredients($name: String) {\n    allIngredients(name: $name) {\n      ...IngredientDetailsWithRef\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function B(){var e=Object(N.a)(["\n  fragment IngredientDetailsWithRef on Ingredient {\n    usedInFoods {\n      id\n      name\n    }\n    ...IngredientDetails\n  }\n  ","\n"]);return B=function(){return e},e}function V(){var e=Object(N.a)(["\n  fragment IngredientDetails on Ingredient {\n    id\n    name\n    prices\n    priceRange {\n      min\n      max\n    }\n    pieces\n    brand\n    weight\n    kcal {\n      total\n      inOnePiece\n      in100g\n    }\n    fat {\n      total\n      inOnePiece\n      in100g\n    }\n    saturatedFat {\n      total\n      inOnePiece\n      in100g\n    }\n    carbs {\n      total\n      inOnePiece\n      in100g\n    }\n    sugars {\n      total\n      inOnePiece\n      in100g\n    }\n    protein {\n      total\n      inOnePiece\n      in100g\n    }\n    salt {\n      total\n      inOnePiece\n      in100g\n    }\n  }\n"]);return V=function(){return e},e}var Q=Object(C.a)(V()),U=Object(C.a)(B(),Q),K=Object(C.a)(M(),U),Y=Object(C.a)(q(),U),J=Object(C.a)(H(),U),W=Object(C.a)(_(),U),G=Object(C.a)(T(),U);function z(){var e=Object(N.a)(["\n  mutation updateFood(\n    $id: ID!\n    $name: String\n    $ingredients: [String!]\n    $recipe: [String!]\n  ) {\n    updateFood(\n      id: $id\n      name: $name\n      ingredients: $ingredients\n      recipe: $recipe\n    ) {\n      ...FoodDetailsWithRef\n    }\n  }\n  ","\n"]);return z=function(){return e},e}function X(){var e=Object(N.a)(["\n  mutation deleteFood($id: ID!) {\n    deleteFood(id: $id) {\n      ...FoodDetailsWithRef\n    }\n  }\n  ","\n"]);return X=function(){return e},e}function Z(){var e=Object(N.a)(["\n  subscription {\n    foodAdded {\n      ...FoodDetailsWithRef\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function ee(){var e=Object(N.a)(["\n  mutation addFood(\n    $name: String!\n    $ingredients: [String!]!\n    $recipe: [String!]!\n  ) {\n    addFood(name: $name, ingredients: $ingredients, recipe: $recipe) {\n      ...FoodDetailsWithRef\n    }\n  }\n  ","\n"]);return ee=function(){return e},e}function te(){var e=Object(N.a)(["\n  query allFoods($name: String) {\n    allFoods(name: $name) {\n      ...FoodDetailsWithRef\n    }\n  }\n  ","\n"]);return te=function(){return e},e}function ae(){var e=Object(N.a)(["\n  fragment FoodDetailsWithRef on Food {\n    ...FoodDetails\n    usedInFoodPacks {\n      id\n      name\n    }\n  }\n  ","\n"]);return ae=function(){return e},e}function ne(){var e=Object(N.a)(["\n  fragment FoodDetails on Food {\n    id\n    name\n    priceRange {\n      min\n      max\n    }\n    recipe\n    ingredients {\n      item {\n        ...IngredientDetails\n      }\n      pieces\n      grams\n      id\n    }\n  }\n  ","\n"]);return ne=function(){return e},e}var re=Object(C.a)(ne(),Q),le=Object(C.a)(ae(),re),ie=Object(C.a)(te(),le),ce=Object(C.a)(ee(),le),oe=Object(C.a)(Z(),le),ue=Object(C.a)(X(),le),se=Object(C.a)(z(),le);function de(){var e=Object(N.a)(["\n  mutation updateFoodPack($id: ID!, $name: String, $foods: [String!]) {\n    updateFoodPack(id: $id, name: $name, foods: $foods) {\n      ...FoodPackDetails\n    }\n  }\n  ","\n"]);return de=function(){return e},e}function me(){var e=Object(N.a)(["\n  mutation deleteFoodPack($id: ID!) {\n    deleteFoodPack(id: $id) {\n      ...FoodPackDetails\n    }\n  }\n  ","\n"]);return me=function(){return e},e}function fe(){var e=Object(N.a)(["\n  mutation addFoodPack($name: String!, $foods: [String!]!) {\n    addFoodPack(name: $name, foods: $foods) {\n      ...FoodPackDetails\n    }\n  }\n  ","\n"]);return fe=function(){return e},e}function be(){var e=Object(N.a)(["\n  query allFoodPacks($name: String) {\n    allFoodPacks(name: $name) {\n      ...FoodPackDetails\n    }\n  }\n  ","\n"]);return be=function(){return e},e}function pe(){var e=Object(N.a)(["\n  fragment FoodPackDetails on FoodPack {\n    id\n    name\n    foodsCount\n    foods {\n      ...FoodDetails\n    }\n  }\n  ","\n"]);return pe=function(){return e},e}var Ee=Object(C.a)(pe(),re),ve=Object(C.a)(be(),Ee),ge=Object(C.a)(fe(),Ee),ke=Object(C.a)(me(),Ee),je=Object(C.a)(de(),Ee),he=function(e,t,a){var n=Object(A.a)(),r=function(e,t){return e.map((function(e){return e.id})).includes(t.id)};return function(l,i){switch(a){case"ADD":var c=n.readQuery({query:t});if(!r(c[e],l)){var o=c[e].concat(l);if(n.writeQuery({query:t,data:Object(h.a)({},e,o)}),"allFoods"===e&&l.ingredients.length>0){var u=n.readQuery({query:K}).allIngredients,s=l.ingredients.map((function(e){return e.item.id})),d=u.map((function(e){return s.includes(e.id)?Object(O.a)({},e,{usedInFoods:e.usedInFoods.concat(l)}):e}));n.writeQuery({query:K,data:{allIngredients:d}})}else if("allFoodPacks"===e&&l.foods.length>0){var m=n.readQuery({query:ie}).allFoods,f=l.foods.map((function(e){return e.id})),b=m.map((function(e){return f.includes(e.id)?Object(O.a)({},e,{usedInFoodPacks:e.usedInFoodPacks.concat(l)}):e}));n.writeQuery({query:ie,data:{allFoods:b}})}}break;case"DELETE":var p=n.readQuery({query:t});if(r(p[e],l)){var E=p[e].filter((function(e){return e.id!==l.id}));if(n.writeQuery({query:t,data:Object(h.a)({},e,E)}),"allIngredients"===e){var v=n.readQuery({query:ie}).allFoods,g=l.usedInFoods.map((function(e){return e.id})),k=v.map((function(e){return g.includes(e.id)?Object(O.a)({},e,{ingredients:e.ingredients.filter((function(e){return e.item.id!==l.id}))}):e}));n.writeQuery({query:ie,data:{allFoods:k}})}else if("allFoods"===e){var j=n.readQuery({query:K}).allIngredients,F=l.ingredients.map((function(e){return e.item.id})),I=j.map((function(e){return F.includes(e.id)?Object(O.a)({},e,{usedInFoods:e.usedInFoods.filter((function(e){return e.id!==l.id}))}):e}));n.writeQuery({query:K,data:{allIngredients:I}});var P=n.readQuery({query:ve}).allFoodPacks,x=l.usedInFoodPacks.map((function(e){return e.id})),S=P.map((function(e){return x.includes(e.id)?Object(O.a)({},e,{foods:e.foods.filter((function(e){return e.id!==l.id}))}):e}));n.writeQuery({query:ve,data:{allFoodPacks:S}})}else if("allFoodPacks"===e){var w=n.readQuery({query:ie}).allFoods,D=l.foods.map((function(e){return e.id})),L=w.map((function(e){return D.includes(e.id)?Object(O.a)({},e,{usedInFoodPacks:e.usedInFoodPacks.filter((function(e){return e.id!==l.id}))}):e}));n.writeQuery({query:ie,data:{allFoods:L}})}}break;case"UPDATE":var A,$,N,C;if("allFoods"===e&&(A=l.ingredients.map((function(e){return e.item.id})),$=K,N="allIngredients",C="usedInFoods"),"allFoodPacks"===e&&(A=l.foods.map((function(e){return e.id})),$=ie,N="allFoods",C="usedInFoodPacks"),!R()(i,A)){var T=new Set([].concat(Object(y.a)(i),Object(y.a)(A))),_=n.readQuery({query:$})[N],H=_.find((function(e){return T.has(e.id)}));if(M=H,i.includes(M.id)?M[C].map((function(e){return e.id})).includes(l.id):!M[C].map((function(e){return e.id})).includes(l.id)){var q=_.map((function(e){return T.has(e.id)?A.includes(e.id)?i.includes(e.id)?e:Object(O.a)({},e,Object(h.a)({},C,e[C].concat(l))):Object(O.a)({},e,Object(h.a)({},C,e[C].filter((function(e){return e.id!==l.id})))):e}));n.writeQuery({query:$,data:Object(h.a)({},N,q)})}}}var M}},Oe=function(){var e=he("allIngredients",K,"ADD");Object(L.a)(J,{onSubscriptionData:function(t){var a=t.subscriptionData.data.ingredientAdded;e(a)}});var t=he("allFoods",ie,"ADD");Object(L.a)(oe,{onSubscriptionData:function(e){var a=e.subscriptionData.data.foodAdded;t(a)}})},ye=a(67),Fe=(a(176),a(177),function(e){var t=e.drawerClickHandler;return r.a.createElement("button",{className:"toggle_button",onClick:t},r.a.createElement("div",{className:"toggle_button_line"}),r.a.createElement("div",{className:"toggle_button_line"}),r.a.createElement("div",{className:"toggle_button_line"}))}),Ie=a(149),Pe=a.n(Ie),xe=function(e){var t=e.drawerClickHandler,a=Object(ye.g)();return r.a.createElement("header",{className:"toolbar"},r.a.createElement("nav",{className:"toolbar_navigation"},r.a.createElement("div",{className:"toolbar_toggle_button"},r.a.createElement(Fe,{drawerClickHandler:t})),r.a.createElement("div",{className:"toolbar_brand"},r.a.createElement(w.b,{to:"/"},"GoShopVege")),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"toolbar_navigation_items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(w.b,{to:"/ruokapaketit"},"Ruokapaketit")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"/ruoat"},"Ruoat")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"/ainesosat"},"Ainesosat")))),r.a.createElement("div",{onClick:function(){return a.push("/ostoslista")},onKeyPress:function(){return a.push("/ostoslista")},role:"button",tabIndex:"0",className:"list_icon"},r.a.createElement("img",{src:Pe.a,alt:"list icon",width:"40rem"}))))},Se=function(e){var t=e.onClick,a=e.text,n=e.mode;return r.a.createElement("div",{className:"main"===n?"main_button":"accent_button",onClick:t,onKeyDown:t,role:"button",tabIndex:"0"},r.a.createElement("div",{className:"button_flex"},a))},we=function(){return r.a.createElement("div",{className:"description"},r.a.createElement("div",{className:"front_page_text_div"},r.a.createElement("h2",{className:"front_page_header_1"},"Vegaaninen ostoslista helposti ja nopeasti"),r.a.createElement("p",{className:"front_page_header_2"},r.a.createElement("strong",null,"GoShopVege"),"luo sinulle valmiin ostoslistan tietyst\xe4 kaupasta tietylle aikav\xe4lille")),r.a.createElement("div",{className:"front_page_button_div"},r.a.createElement(Se,{onClick:function(){return console.log("aloitettu! :D")},text:"Aloita",mode:"main"})))},De=a(21),Le=a(152),Ae=a(153),$e=a(26),Re=a(55),Ne=a(51),Ce=a.n(Ne),Te=function(e){var t,a=Object(n.useState)(!1),r=Object(S.a)(a,2),l=r[0],i=r[1],c=Object(b.c)();switch(e){case"INITSHOPLIST":if(!l){i(!0);var o=Ce.a.get("currentShopList");return o?c((t=JSON.parse(o),function(e){t.forEach((function(t){e(F(t))}))})):Ce.a.set("currentShopList","[]")}break;case"ADD":return function(e){var t=Ce.a.get("currentShopList");t?t=JSON.parse(t):(Ce.a.set("currentShopList","[]"),t=[]),t=t.concat(e),Ce.a.set("currentShopList",JSON.stringify(t)),c(F(e)),c(k("success","Lis\xe4tty ostoslistaan!"))};case"REMOVE":return function(e){var t=JSON.parse(Ce.a.get("currentShopList")).filter((function(t){return t.objectId!==e.objectId}));Ce.a.set("currentShopList",JSON.stringify(t)),c(function(e){return{type:"REMOVE",data:{shopListIds:e.shopListIds,objectId:e.objectId,set:e.set}}}(e)),c(k("success",""))};case"EMPTY":return function(){Ce.a.remove("currentShopList"),c({type:"EMPTY"}),k("success","Ostoslista tyhj\xe4tty!")}}},_e=Object(b.b)((function(e,t){return{storeSet:e.shopList[t.set]}}))((function(e){var t,a=Object(n.useState)(!1),l=Object(S.a)(a,2),i=l[0],c=l[1],o=Te(e.mode),u=e.storeSet.find((function(t){return t.id===e.object.id}));"foodPacks"===e.set?t="ruokapaketti":"foods"===e.set?t="ruoka":"ingredients"===e.set&&(t="ainesosa");var s={shopListIds:[],set:e.set};s.objectId=e.object.id,"foodPacks"===e.set?e.object.foods.forEach((function(e){e.ingredients.forEach((function(e){s.shopListIds.push(e.item.id)}))})):"foods"===e.set?e.object.ingredients.forEach((function(e){s.shopListIds.push(e.item.id)})):"ingredients"===e.set&&s.shopListIds.push(e.object.id);var d="ADD"===e.mode?"light":"warning",m="ADD"===e.mode?"Lis\xe4\xe4 ostoslistaan":"Poista ostoslistasta";return r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement($e.a,{variant:d,onClick:function(){return c(!0)}},m),r.a.createElement(Re.a,{show:i,onHide:function(){return c(!1)}},r.a.createElement(Re.a.Header,{closeButton:!0},r.a.createElement("strong",null,"Lis\xe4t\xe4\xe4nk\xf6 ostoslistaan?")),r.a.createElement(Re.a.Body,null,u&&"ADD"===e.mode&&"T\xe4m\xe4 ".concat(t," on jo ostoslistassa. Lis\xe4t\xe4\xe4nk\xf6 uudestaan?"),!u&&"ADD"===e.mode&&"Lis\xe4t\xe4\xe4nk\xf6 ostoslistaan?","REMOVE"===e.mode&&"Poistetaanko ".concat(t," ostoslistasta?")),r.a.createElement(Re.a.Footer,null,r.a.createElement($e.a,{variant:"primary",onClick:function(){return c(!1)}},"Peruuta"),r.a.createElement($e.a,{variant:d,onClick:function(){c(!1),o(s)}},m))))})),He=(a(74),function(e){var t=e.foods,a=e.history;return r.a.createElement("div",null,r.a.createElement(Le.a,null,r.a.createElement(Ae.a,null,t.map((function(e){return r.a.createElement(De.a,{className:"foodCard",style:{width:"18rem",margin:"1rem"},key:e.id},r.a.createElement(De.a.Header,null,"Ruoka"),r.a.createElement(De.a.Body,null,r.a.createElement(De.a.Title,null,e.name),r.a.createElement(De.a.Body,null,e.ingredients.map((function(e){return r.a.createElement("div",{key:e.item.id},e.item.name)}))),r.a.createElement($e.a,{variant:"primary",onClick:function(){return a.push("/ruoat/".concat(e.name))}},"N\xe4yt\xe4"),r.a.createElement(_e,{mode:"ADD",object:e,set:"foods"})))})))))}),qe=function(){var e=Object(ye.g)(),t=Object(D.a)(ie);if(t.loading)return r.a.createElement("div",null,"...loading");var a=t.data.allFoods;return r.a.createElement("div",null,r.a.createElement("h3",null,"Ruoat",r.a.createElement("small",{style:{paddingLeft:10}},r.a.createElement(w.b,{to:"/ruoat/uusi"},"luo uusi ruoka"))),r.a.createElement(He,{foods:a,history:e}))},Me=function(e){var t=e.ingredients;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nimi"),r.a.createElement("th",null,"Hintahaarukka"),r.a.createElement("th",null,"kcal yhteens\xe4")),t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(w.b,{to:"/ainesosat/".concat(e.name)},e.name)),r.a.createElement("td",null,e.priceRange.min.toFixed(2),"\u20ac-",e.priceRange.max.toFixed(2),"\u20ac"),r.a.createElement("td",null,e.kcal.total))})))))},Be=function(){var e=Object(D.a)(K);if(e.loading)return r.a.createElement("div",null,"...loading");var t=e.data.allIngredients;return r.a.createElement("div",null,r.a.createElement("h3",null,"Ainesosat",r.a.createElement("small",{style:{paddingLeft:10}},r.a.createElement(w.b,{to:"/ainesosat/uusi"},"luo uusi ainesosa"))),r.a.createElement(Me,{ingredients:t}))},Ve=a(65),Qe=a(14),Ue=a.n(Qe),Ke=a(22),Ye=a(143),Je=r.a.forwardRef((function(e,t){var a=Object(n.useState)(!0),l=Object(S.a)(a,2),i=l[0],c=l[1],o=function(){c(!1),e.setModalVisible(!1)};return Object(n.useImperativeHandle)(t,(function(){return{hideModal:o}})),r.a.createElement("div",null,r.a.createElement(Re.a,{size:"lg",centered:!0,show:i,animation:!1,onHide:o},r.a.createElement(Re.a.Dialog,null,r.a.createElement(Re.a.Header,{closeButton:!0},r.a.createElement(Re.a.Title,null,"Ennen poistamista")),r.a.createElement(Re.a.Body,null,e.children),r.a.createElement(Re.a.Footer,null,r.a.createElement($e.a,{variant:"danger",onClick:e.handleClick},e.buttonLabel)))))})),We=function(e){var t=e.ingredient;return r.a.createElement("div",null,r.a.createElement("h6",null,"Otathan huomioon ett\xe4 ",r.a.createElement("strong",null,t.name)," poistuu samalla seuraavista ruoista:"),t.usedInFoods.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(w.b,{to:"/ruoat/".concat(e.name)},e.name))})))},Ge=Object(b.b)(null,{setAlert:k})((function(e){var t=e.ingredient,a=e.setAlert,l=he("allIngredients",K,"DELETE"),i=Object(Ye.a)(W,{update:function(e,t){l(t.data.deleteIngredient)}}),c=Object(S.a)(i,1)[0],o=Object(n.useState)(!1),u=Object(S.a)(o,2),s=u[0],d=u[1],m=r.a.createRef(),f=function(){var e=Object(Ke.a)(Ue.a.mark((function e(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.current.hideModal(),e.prev=1,e.next=4,c({variables:{id:t.id}});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Error deleting ingredient in DeleteIngredientButton: ",e.t0.message),a("danger","Pieleen meni. Kokeile uudemman kerran.");case 10:a("success","Ainesosa ".concat(t.name," poistettu"));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{display:"inline-block"}},s&&r.a.createElement(Je,{setModalVisible:d,buttonLabel:"poista ainesosa",handleClick:f,ref:m},r.a.createElement(We,{ingredient:t})),r.a.createElement($e.a,{variant:"outline-danger",onClick:function(){d(!0)}},"Poista ainesosa"))}));function ze(){var e=Object(N.a)(["\n  padding-left: 20px;\n"]);return ze=function(){return e},e}var Xe=Ve.a.th(ze()),Ze=[{title:"Energiaa",name:"kcal",unit:"kcal"},{title:"Rasvaa",name:"fat"},{title:"josta tyydyttynytt\xe4",name:"saturatedFat",unit:"g"},{title:"Hiilarit",name:"carbs",unit:"g"},{title:"joista sokereita",name:"sugars",unit:"g"},{title:"Protskua",name:"protein",unit:"g"},{title:"Suolaa",name:"salt",unit:"g"}],et=function(e){var t=e.ingredient,a=Object(ye.g)(),n=Ze.map((function(e){return{data:t[e.name],details:e}})),l=t.name,i=t.priceRange,c=t.brand,o=t.weight,u=t.pieces;return r.a.createElement("div",null,r.a.createElement("h2",null,l,r.a.createElement(_e,{mode:"ADD",object:t,set:"ingredients"}),r.a.createElement($e.a,{variant:"outline-warning",onClick:function(){return a.push("/ainesosat/paivita/".concat(l))}},"P\xe4ivit\xe4"),r.a.createElement(Ge,{ingredient:t})),r.a.createElement("hr",null),r.a.createElement("h4",null,"Pakkauksen yleistiedot"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Hintahaarukka:"),r.a.createElement("td",null,i.min.toFixed(2)," \u20ac - ",i.max.toFixed(2)," \u20ac")),r.a.createElement("tr",null,r.a.createElement("th",null,"Br\xe4ndi:"),r.a.createElement("td",null,c||"(puuttuu toistaiseksi)")),r.a.createElement("tr",null,r.a.createElement("th",null,"Paino:"),r.a.createElement("td",null,null!==o?"".concat(o," g"):"(puuttuu toistaiseksi)")),null!==u&&r.a.createElement("tr",null,r.a.createElement("th",null,"Kappaletta:"),r.a.createElement("td",null,u)))),r.a.createElement("br",null),r.a.createElement("h4",null,"Ravintoainetaulukko"),r.a.createElement("table",null,n.map((function(e){return r.a.createElement("tbody",{key:e.details.title},r.a.createElement("tr",null,r.a.createElement("th",null,e.details.title)),r.a.createElement("tr",null,r.a.createElement(Xe,null,"100 grammassa:"),r.a.createElement("td",null,null!==e.data.in100g?"".concat(e.data.in100g," g"):"(puuttuu toistaiseksi)")),r.a.createElement("tr",null,r.a.createElement(Xe,null,"koko pakkauksessa:"),r.a.createElement("td",null,null!==e.data.total?"".concat(e.data.total," g"):"(puuttuu toistaiseksi)")),null!==e.data.inOnePiece&&r.a.createElement("tr",null,r.a.createElement(Xe,null,"Yhdess\xe4 kappaleessa:"),r.a.createElement("td",null,e.data.inOnePiece," g")))}))))},tt=function(){var e=Object(ye.h)("/ainesosat/:name").params.name,t=Object(D.a)(K);if(t.loading)return r.a.createElement("div",null,"...loading");var a=t.data.allIngredients.find((function(t){return t.name===e}));return a?r.a.createElement("div",null,r.a.createElement(et,{ingredient:a})):r.a.createElement(ye.a,{to:"/ainesosat"})},at=function(e){var t=e.food;return r.a.createElement("div",null,r.a.createElement("h6",null,"Otathan huomioon ett\xe4 ",r.a.createElement("strong",null,t.name)," poistuu samalla seuraavista ruokapaketeista:"),t.usedInFoodPacks.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(w.b,{to:"/ruokapaketit/".concat(e.name)},e.name))})))},nt=Object(b.b)(null,{setAlert:k})((function(e){var t=e.food,a=e.setAlert,l=Object(n.useState)(!1),i=Object(S.a)(l,2),c=i[0],o=i[1],u=Object(n.useState)(!1),s=Object(S.a)(u,2),d=s[0],m=s[1],f=he("allFoods",ie,"DELETE"),b=Object(Ye.a)(ue,{update:function(e,t){f(t.data.deleteFood)}}),p=Object(S.a)(b,1)[0],E=r.a.createRef(),v=function(){var e=Object(Ke.a)(Ue.a.mark((function e(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.current.hideModal(),e.prev=1,m(!0),e.next=5,p({variables:{id:t.id}});case 5:a("success","Ruoka ".concat(t.name," poistettu!")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),a("danger","Jotain meni vikaan, kokeile uudestaan!"),m(!1),console.log("Error deleting food in DeleteFoodButton: ",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return d?r.a.createElement(ye.a,{to:"/ruoat"}):r.a.createElement("div",null,c&&r.a.createElement(Je,{setModalVisible:o,buttonLabel:"poista ruoka",handleClick:v,ref:E},r.a.createElement(at,{food:t})),r.a.createElement($e.a,{variant:"outline-danger",onClick:function(){o(!0)}},"poista ruoka"))})),rt=function(e){var t=e.food;return r.a.createElement(w.b,{to:"/ruoat/paivita/".concat(t.name)},r.a.createElement($e.a,{variant:"outline-warning"},"p\xe4ivit\xe4"))},lt=function(e){var t=e.food;return r.a.createElement("div",null,r.a.createElement(De.a,{className:"foodCard",style:{padding:30}},r.a.createElement("h3",null,t.name,r.a.createElement(rt,{food:t}),r.a.createElement(nt,{food:t}),r.a.createElement(_e,{mode:"ADD",object:t,set:"foods"})),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Hinta:"),r.a.createElement("td",null,t.price," \u20ac")),r.a.createElement("tr",null,r.a.createElement("th",null,"Kilokalorit:"),r.a.createElement("td",null,t.kcal)))),r.a.createElement("br",null),r.a.createElement(Me,{ingredients:t.ingredients.map((function(e){return e.item})),hideButtons:!0}),r.a.createElement("br",null),r.a.createElement("strong",null,"resepti"),t.recipe.map((function(e){return r.a.createElement("ul",{key:e},r.a.createElement("li",null,e))}))))},it=function(){var e=Object(ye.h)("/ruoat/:name").params.name,t=Object(D.a)(ie);if(t.loading)return r.a.createElement("div",null,"...loading");var a=t.data.allFoods.find((function(t){return t.name===e}));return a?r.a.createElement("div",null,r.a.createElement(lt,{food:a})):r.a.createElement(ye.a,{to:"/ruoat"})},ct=function(e){return r.a.createElement("div",null,e.foodPacks.map((function(e){return r.a.createElement("div",{className:"foodPackCard",style:{width:"18rem",margin:"1rem"},key:e.id},e.name)})))},ot=function(){var e=Object(D.a)(ve),t=Object(ye.g)();if(e.loading)return r.a.createElement("div",null,"...loading");var a=e.data.allFoodPacks;return r.a.createElement("div",null,r.a.createElement("h3",null,"Ruokapaketit",r.a.createElement("small",{style:{paddingLeft:10}},r.a.createElement(w.b,{to:"/ruokapaketit/uusi"},"luo uusi ruokapaketti"))),r.a.createElement(ct,{foodPacks:a,history:t}))},ut=Object(b.b)(null,{setAlert:k})((function(e){var t=e.foodPack,a=e.setAlert,l=Object(n.useState)(!1),i=Object(S.a)(l,2),c=i[0],o=i[1],u=he("allFoodPacks",ve,"DELETE"),s=Object(Ye.a)(ke,{update:function(e,t){u(t.data.deleteFoodPack)}}),d=Object(S.a)(s,1)[0],m=function(){var e=Object(Ke.a)(Ue.a.mark((function e(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Poistetaanko ruokapaketti ".concat(t.name))){e.next=13;break}return e.prev=2,o(!0),e.next=6,d({variables:{id:t.id}});case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),o(!1),console.log("Error deleting foodPack in DeleteFoodPackButton: ",e.t0.message),a("danger","Jotain meni vikaan. Yrit\xe4 uudelleen!");case 13:a("success","Ruokapaketti ".concat(t.name," poistettu!"));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return c?r.a.createElement(ye.a,{to:"/ruokapaketit"}):r.a.createElement($e.a,{variant:"outline-danger",onClick:m},"poista ruokapaketti")})),st=function(e){var t=e.foodPack;return r.a.createElement(w.b,{to:"/ruokapaketit/paivita/".concat(t.name)},r.a.createElement($e.a,{variant:"outline-warning"},"p\xe4ivit\xe4"))},dt=function(e){var t=e.foodPack,a=e.history;return r.a.createElement("div",null,r.a.createElement(De.a,{className:"foodPackCard",style:{padding:30}},r.a.createElement("h2",null,t.name,r.a.createElement(st,{foodPack:t}),r.a.createElement(ut,{foodPack:t}),r.a.createElement(_e,{mode:"ADD",object:t,set:"foodPacks"})),r.a.createElement("p",null,r.a.createElement("strong",null,"Kilokalorit: "),t.kcal),r.a.createElement("p",null,r.a.createElement("strong",null,"Hinta: "),t.price," \u20ac"),r.a.createElement(He,{foods:t.foods,history:a})))},mt=function(){var e=Object(ye.g)(),t=Object(ye.h)("/ruokapaketit/:name").params.name,a=Object(D.a)(ve);if(a.loading)return r.a.createElement("div",null,"...loading");var n=a.data.allFoodPacks.find((function(e){return e.name===t}));return n?r.a.createElement("div",null,r.a.createElement(dt,{foodPack:n,history:e})):r.a.createElement(ye.a,{to:"/ruokapaketit"})},ft=a(200),bt=function(e,t){var a=null!==t?t:"",r=Object(n.useState)(a),l=Object(S.a)(r,2),i=l[0],c=l[1];return[{value:i,type:e,onChange:function(e){c(e.target.value)}},function(){c("")},c]},pt=Object(b.b)(null,{setAlert:k})((function(e){var t=e.setAlert,a=e.update,l=e.ingredient,i=Object(ye.g)(),c=bt("text",l?l.name:null),o=Object(S.a)(c,1)[0],u=Object(n.useState)(l?l.prices:[]),s=Object(S.a)(u,2),d=s[0],m=s[1],f=Object(n.useState)(""),b=Object(S.a)(f,2),p=b[0],E=b[1],v=bt("number",l?l.pieces:null),g=Object(S.a)(v,1)[0],k=bt("text",l?l.brand:null),j=Object(S.a)(k,1)[0],h=bt("number",l?l.weight:null),F=Object(S.a)(h,1)[0],I=bt("number",l?l.kcal.in100g:null),P=Object(S.a)(I,1)[0],x=bt("number",l?l.fat.in100g:null),w=Object(S.a)(x,1)[0],L=bt("number",l?l.saturatedFat.in100g:null),A=Object(S.a)(L,1)[0],$=bt("number",l?l.carbs.in100g:null),R=Object(S.a)($,1)[0],N=bt("number",l?l.sugars.in100g:null),C=Object(S.a)(N,1)[0],T=bt("number",l?l.protein.in100g:null),_=Object(S.a)(T,1)[0],H=bt("number",l?l.salt.in100g:null),q=Object(S.a)(H,1)[0],M=Object(D.a)(K),B=M.loading,V=M.data,Q=he("allIngredients",K,"ADD"),U=Object(Ye.a)(Y,{update:function(e,t){Q(t.data.addIngredient),i.push("/ainesosat")}}),J=Object(S.a)(U,1)[0];if(B)return r.a.createElement("div",null,"...loading");var W=V.allIngredients.map((function(e){return e.name})),G=function(){var e=Object(Ke.a)(Ue.a.mark((function e(n){var r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),null!==a){e.next=8;break}if(!(o.value.length<4)){e.next=5;break}return t("danger","Nimen pituuden t\xe4ytyy olla v\xe4hint\xe4\xe4n 4 !"),e.abrupt("return");case 5:if(!W.includes(o.value)){e.next=8;break}return t("danger",'Ainesosa "'.concat(o.value,'" on jo olemassa. Valitse toinen nimi!')),e.abrupt("return");case 8:if(0!==d.length){e.next=11;break}return t("danger","Ainesosalla t\xe4ytyy olla ainakin yksi hinta!"),e.abrupt("return");case 11:if(r=Object(O.a)({},o.value&&{name:o.value},{},d&&{prices:d},{},j.value&&{brand:j.value},{},g.value&&{pieces:Number(g.value)},{},F.value&&{weight:Number(F.value)},{},P.value&&{kcal:Number(P.value)},{},w.value&&{fat:Number(w.value)},{},A.value&&{saturatedFat:Number(A.value)},{},R.value&&{carbs:Number(R.value)},{},C.value&&{sugars:Number(C.value)},{},_.value&&{protein:Number(_.value)},{},q.value&&{salt:Number(q.value)}),null===a){e.next=16;break}a(r),e.next=26;break;case 16:return e.prev=16,e.next=19,J({variables:Object(O.a)({name:o.value,prices:d},j.value&&{brand:j.value},{},g.value&&{pieces:Number(g.value)},{},F.value&&{weight:Number(F.value)},{},P.value&&{kcal:Number(P.value)},{},w.value&&{fat:Number(w.value)},{},A.value&&{saturatedFat:Number(A.value)},{},R.value&&{carbs:Number(R.value)},{},C.value&&{sugars:Number(C.value)},{},_.value&&{protein:Number(_.value)},{},q.value&&{salt:Number(q.value)})});case 19:t("success","Uusi ainesosa ".concat(o.value," lis\xe4tty!")),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(16),console.log("Error adding ingredient in IngredientForm.js",e.t0.message),t("danger","Hmm... bitti taitaa olla poikittain. Kokeile uudestaan.");case 26:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h2",null,null!==a?"P\xe4ivit\xe4 ".concat(l.name):"Uusi ainesosa"),r.a.createElement(ft.a,{onSubmit:G},r.a.createElement(ft.a.Group,null,r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Nimi")),r.a.createElement(ft.a.Control,o),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Hinta (\u20ac)"),r.a.createElement($e.a,{variant:"light",onClick:function(){m(d.concat(Number(p))),E("")}},"lis\xe4\xe4 hinta"),r.a.createElement($e.a,{variant:"light",onClick:function(){var e=Object(y.a)(d);e.pop(e.length),m(e)}},"poista viimeisin hinta")),r.a.createElement("div",null,"Hinnat: ",d.map((function(e){return"".concat(e.toFixed(2)," \u20ac, ")})),r.a.createElement(ft.a.Control,{bsPrefix:{display:"inline-block"},value:p,type:"number",onChange:function(e){return E(e.target.value)}})),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Kappaletta")),r.a.createElement(ft.a.Control,g),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Br\xe4ndi")),r.a.createElement(ft.a.Control,j),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Paino (g)")),r.a.createElement(ft.a.Control,F),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Rasvaa (g)")),r.a.createElement(ft.a.Control,w),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"joista tyydyttyneit\xe4 (g)")),r.a.createElement(ft.a.Control,A),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Hiilarit (g)")),r.a.createElement(ft.a.Control,R),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"joista sokereita (g)")),r.a.createElement(ft.a.Control,C),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Protskua (g)")),r.a.createElement(ft.a.Control,_),r.a.createElement(ft.a.Label,null,r.a.createElement("strong",null,"Suolaa (g)")),r.a.createElement(ft.a.Control,q),r.a.createElement("br",null),r.a.createElement($e.a,{type:"submit"},null!==a?"P\xe4ivit\xe4 ainesosa":"Lis\xe4\xe4 ainesosa"))))})),Et=a(90),vt=a(198),gt=a(121),kt=a(199),jt=function(e){var t=e.toggleUnit,a=e.changeFoodIngredientValue,n=e.recipe,l=e.foodIngredients,i=e.ingredients,c=e.handleSelect,o=e.removeFoodIngredient,u=e.addStep,s=e.removeStep,d=e.submit,m=e.step,f=e.food,b=e.name;return r.a.createElement("div",null,r.a.createElement(ft.a,{onSubmit:d},r.a.createElement(ft.a.Group,null,r.a.createElement($e.a,{variant:"success",type:"submit"},f?"p\xe4ivit\xe4":"lis\xe4\xe4 ruoka"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ft.a.Label,null,"Ruoan nimi"),r.a.createElement(ft.a.Control,b),r.a.createElement(ft.a.Label,null,"Resepti"),r.a.createElement(ft.a.Control,m),r.a.createElement($e.a,{onClick:u},"lis\xe4\xe4 reseptiin"))),r.a.createElement(Et.a,null,n.map((function(e){return r.a.createElement(Et.a.Item,{key:e.id},r.a.createElement("li",null,e.value,r.a.createElement($e.a,{variant:"light",id:e.id,onClick:s},"poista")))}))),r.a.createElement("br",null),r.a.createElement("h6",null,"AINESOSAT"),r.a.createElement(vt.a,{id:"dropdown-basic-button",title:"Lis\xe4\xe4 ainesosa"},i.map((function(e){return r.a.createElement(gt.a.Item,{key:e.id,eventKey:e.id,onSelect:c},e.name)}))),r.a.createElement(kt.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"nimi"),r.a.createElement("th",null,"hintahaarukka (\u20ac)"),r.a.createElement("th",null,"m\xe4\xe4r\xe4"),r.a.createElement("th",null,"yksikk\xf6"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.item.name),r.a.createElement("td",null,e.item.priceRange.min,"\u20ac - ",e.item.priceRange.max,"\u20ac"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:"1",id:e.id,value:e.value,onChange:function(e){return a(e)},style:{width:"80px"}})),r.a.createElement("td",null,!0===e.onlyGrams?r.a.createElement($e.a,{disabled:!0,variant:"dark"},"grammaa"):"pieces"===e.unit?r.a.createElement($e.a,{variant:"info",id:e.id,onClick:t},"kappaletta"):r.a.createElement($e.a,{variant:"secondary",id:e.id,onClick:t},"grammaa")),r.a.createElement("td",null,r.a.createElement($e.a,{variant:"light",id:e.id,onClick:o},"poista")))})))))},ht="pieces",Ot="grams",yt={KCAL:"kcal",FAT:"fat",SATURATED_FAT:"saturatedFat",CARBS:"carbs",SUGARS:"sugars",PROTEIN:"protein",SALT:"salt"},Ft=function(e,t,a,n){return n===ht?t[e].inOnePiece*a:t[e].in100g/100*a},It=function(e,t){return e.ingredients.reduce((function(e,a){var n,r;return null!==a.pieces?(n=ht,r=a.pieces):(n=Ot,r=a.grams),e+Ft(t,a.item,r,n)}),0)},Pt=function(e){var t=e||null,a=Object(n.useState)(t?It(t,yt.KCAL):0),r=Object(S.a)(a,2),l=r[0],i=r[1],c=Object(n.useState)(t?It(t,yt.FAT):0),o=Object(S.a)(c,2),u=o[0],s=o[1],d=Object(n.useState)(t?It(t,yt.SATURATED_FAT):0),m=Object(S.a)(d,2),f=m[0],b=m[1],p=Object(n.useState)(t?It(t,yt.CARBS):0),E=Object(S.a)(p,2),v=E[0],g=E[1],k=Object(n.useState)(t?It(t,yt.SUGARS):0),j=Object(S.a)(k,2),h=j[0],O=j[1],y=Object(n.useState)(t?It(t,yt.PROTEIN):0),F=Object(S.a)(y,2),I=F[0],P=F[1],x=Object(n.useState)(t?It(t,yt.SALT):0),w=Object(S.a)(x,2),D=w[0],L=w[1],A=function(e){return e<0?0:e},$={kcal:function(e){return i(l+e)},fat:function(e){return s(u+e)},saturatedFat:function(e){return b(f+e)},carbs:function(e){return g(v+e)},sugars:function(e){return O(h+e)},protein:function(e){return P(I+e)},salt:function(e){return L(D+e)}},R={kcal:function(e){return i(A(l-e))},fat:function(e){return s(A(u-e))},saturatedFat:function(e){return b(A(f-e))},carbs:function(e){return g(A(v-e))},sugars:function(e){return O(A(h-e))},protein:function(e){return P(A(I-e))},salt:function(e){return L(A(D-e))}};return[{kcal:l.toFixed(1),fat:u.toFixed(1),saturatedFat:f.toFixed(1),carbs:v.toFixed(1),sugars:h.toFixed(1),protein:I.toFixed(1),salt:D.toFixed(1),addAll:function(e,t,a){Object.keys(yt).forEach((function(n){var r=Ft(yt[n],e,t,a);$[yt[n]](r)}))},subtractAll:function(e,t,a){Object.keys(yt).forEach((function(n){var r=Ft(yt[n],e,t,a);R[yt[n]](r)}))}}]},xt="pieces",St="grams",wt=Object(b.b)(null,{setAlert:k})((function(e){var t=e.food,a=e.updateFood,l=e.addFood,i=e.setAlert,c=bt("text",t?t.name:null),o=Object(S.a)(c,1)[0],u=bt("text"),s=Object(S.a)(u,2),d=s[0],m=s[1],f=Object(n.useState)([]),b=Object(S.a)(f,2),p=b[0],E=b[1],v=Object(n.useState)(t?t.ingredients.map((function(e){return function(e){return{unit:e.pieces?xt:St,onlyGrams:null===e.pieces,value:e.pieces?e.pieces:e.grams,item:e.item,id:Object(g.a)()}}(e)})):[]),k=Object(S.a)(v,2),j=k[0],h=k[1],y=Object(n.useState)(t?t.priceRange:{min:0,max:0}),F=Object(S.a)(y,2),I=F[0],P=F[1],x=Pt(t),w=Object(S.a)(x,1)[0],L=Object(D.a)(K);if(Object(n.useEffect)((function(){if(t){var e=t.recipe.map((function(e){return{value:e,id:Object(g.a)()}}));E(e)}}),[t]),L.loading)return r.a.createElement("div",null,"...loading");var A=L.data.allIngredients.filter((function(e){return!j.map((function(e){return e.item.id})).includes(e.id)})),$=function(){var e=Object(Ke.a)(Ue.a.mark((function e(n){var r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(o.value.length<4)){e.next=4;break}return i("danger","Nimen pituuden t\xe4ytyy olla v\xe4hint\xe4\xe4n 4 !"),e.abrupt("return");case 4:r={name:o.value,ingredients:j.map((function(e){return"".concat(e.item.id,";").concat(e.unit,";").concat(e.value)})),recipe:p.map((function(e){return e.value}))},t?a(r):l(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h2",null,t?"P\xe4ivit\xe4 ".concat(t.name):"Luo uusi ruoka"),r.a.createElement("strong",null,r.a.createElement("div",null,"Hintahaarukka: ",I.min.toFixed(2)," \u20ac -"," ",I.max.toFixed(2)," \u20ac")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",null,"Yhteens\xe4 energiaa: ",w.kcal," kcal"),r.a.createElement("div",null,"Yhteens\xe4 rasvaa: ",w.fat," g"),r.a.createElement("div",null,"- josta tyydyttynytt\xe4: ",w.saturatedFat," g"),r.a.createElement("div",null,"Yhteens\xe4 hiilareita: ",w.carbs," g"),r.a.createElement("div",null,"- josta sokereita: ",w.sugars," g"),r.a.createElement("div",null,"Yhteens\xe4 protskua ",w.protein," g"),r.a.createElement("div",null,"Yhteens\xe4 suolaa: ",w.salt," g")),r.a.createElement("br",null),r.a.createElement(jt,{changeFoodIngredientValue:function(e){var t=j.find((function(t){return t.id===e.target.id})),a=Number(e.target.value)-t.value;w.addAll(t.item,a,t.unit),h(j.map((function(t){return t.id===e.target.id?Object(O.a)({},t,{value:Number(e.target.value)}):t})))},toggleUnit:function(e){var t=j.find((function(t){return t.id===e.target.id})),a=t.unit,n=t.unit===xt?St:xt;t.unit=n,h(j.map((function(a){return a.id===e.target.id?t:a}))),w.subtractAll(t.item,t.value,a),w.addAll(t.item,t.value,n)},foodIngredients:j,ingredients:A,recipe:p,handleSelect:function(e){var t=A.find((function(t){return t.id===e})),a={unit:t.pieces?xt:St,onlyGrams:null===t.pieces,value:0,item:t,id:Object(g.a)()};h(j.concat(a)),P({min:I.min+t.priceRange.min,max:I.max+t.priceRange.max})},removeFoodIngredient:function(e){var t=j.find((function(t){return t.id===e.target.id}));h(j.filter((function(e){return e.id!==t.id})));var a=I.min-t.item.priceRange.min,n=I.max-t.item.priceRange.max;P({min:a<0?0:a,max:n<0?0:n}),w.subtractAll(t.item,t.value,t.unit)},addStep:function(){d.value.length<3?i("danger","Yhden reseptin rivin pituuden t\xe4ytyy olla v\xe4hint\xe4\xe4n 3!"):p.map((function(e){return e.value})).includes(d.value)?i("danger","Reseptiss\xe4 ei voi olla samoja rivej\xe4!"):(E(p.concat({value:d.value,id:Object(g.a)()})),m())},removeStep:function(e){E(p.filter((function(t){return t.id!==e.target.id})))},submit:$,step:d,food:t,name:o}))})),Dt=Object(b.b)(null,{setAlert:k})((function(e){var t=e.setAlert,a=Object(n.useState)(!1),l=Object(S.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)([]),u=Object(S.a)(o,2),s=u[0],d=u[1],m=Object(ye.h)("/ruoat/paivita/:name").params.name,f=he("allFoods",ie,"UPDATE"),b=Object(Ye.a)(se,{update:function(e,t){f(t.data.updateFood,s)}}),p=Object(S.a)(b,1)[0],E=Object(D.a)(ie);if(Object(n.useEffect)((function(){if(!E.loading){var e=E.data.allFoods.find((function(e){return e.name===m}));d(e.ingredients.map((function(e){return e.item.id})))}}),[E.loading]),E.loading)return r.a.createElement("div",null,"...loading");var v=E.data.allFoods.find((function(e){return e.name===m}));if(i)return r.a.createElement(ye.a,{to:"/ruoat/".concat(v.name)});var g=function(){var e=Object(Ke.a)(Ue.a.mark((function e(a){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,p({variables:{id:v.id,name:a.name,ingredients:a.ingredients,recipe:a.recipe}});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error updating food in UpdateFood.js",e.t0.message),t("danger","Jotain meni vikaan. Kokeileppa uudestaan!");case 10:t("success","Ruoka ".concat(m," p\xe4ivitetty"));case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(wt,{food:v,updateFood:g}))})),Lt=Object(b.b)(null,{setAlert:k})((function(e){var t=e.setAlert,a=Object(ye.g)(),n=he("allFoods",ie,"ADD"),l=Object(D.a)(ie),i=l.loading,c=l.data,o=Object(Ye.a)(ce,{update:function(e,t){var r=t.data.addFood;n(r),a.push("/ruoat/".concat(r.name))}}),u=Object(S.a)(o,1)[0];if(i)return r.a.createElement("div",null,"...loading");var s=c.allFoods,d=s.map((function(e){return e.name})),m=function(){var e=Object(Ke.a)(Ue.a.mark((function e(a){var n,r,l;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.includes(a.name)){e.next=3;break}return t("danger",'Ruoka "'.concat(a.name,'" on jo olemassa, valitse toinen nimi')),e.abrupt("return");case 3:if(0!==a.ingredients.length){e.next=6;break}return t("danger","Ruoassa t\xe4ytyy olla ainesosia. Muuten tulee aika mit\xe4\xe4nsanomaton safka."),e.abrupt("return");case 6:n=a.ingredients.map((function(e){return e.substring(0,e.length-2)})),r=0;case 8:if(!(r<s.length)){e.next=16;break}if(l=s[r].ingredients.map((function(e){return e.item.id})),!R()(l,n)){e.next=13;break}return t("danger",'Ruoassa "'.concat(s[r].name,'" on jo t\xe4ysin samat ainesosat.')),e.abrupt("return");case 13:r++,e.next=8;break;case 16:return e.prev=16,e.next=19,u({variables:{name:a.name,ingredients:a.ingredients,recipe:a.recipe}});case 19:t("success","Uusi ruoka ".concat(a.name," lis\xe4tty")),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(16),console.log("Error adding food in NewFood.js: ",e.t0.message),t("danger","Jotain meni m\xf6nk\xe4\xe4n. Kokeile uudemman kerran.");case 26:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(wt,{addFood:m}))})),At=function(e){var t=e.submit,a=e.name,n=e.foodsForDropdown,l=e.foods,i=e.handleSelect,c=e.removeFood,o=e.foodPack;return r.a.createElement("div",null,r.a.createElement(ft.a,{onSubmit:t},r.a.createElement(ft.a.Group,null,r.a.createElement($e.a,{type:"submit"},o?"P\xe4ivit\xe4":"Lis\xe4\xe4 ruokapaketti"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ft.a.Label,null,"Ruokapaketin nimi"),r.a.createElement(ft.a.Control,a))),r.a.createElement(vt.a,{id:"dropdown-basic-button",title:"Lis\xe4\xe4 ruoka",flip:"offset",preventoverflow:"padding"},n.map((function(e){return r.a.createElement(gt.a.Item,{key:e.id,eventKey:e.id,onSelect:i},e.name)}))),r.a.createElement(kt.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h6",null,"RUOAT")),r.a.createElement("th",null,"nimi"),r.a.createElement("th",null,"hinta"),r.a.createElement("th",null,"kcal"),r.a.createElement("th",null,"ainesosat"),r.a.createElement("th",null))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.kcal),r.a.createElement("td",null,r.a.createElement(vt.a,{id:"dropdown-basic-button",title:"N\xe4yt\xe4",flip:"offset",preventoverflow:"padding"},e.ingredients.map((function(e){return e.item})).map((function(e){return r.a.createElement(gt.a.Item,{key:e.id},e.name)})))),r.a.createElement("td",null,r.a.createElement($e.a,{variant:"light",id:e.id,onClick:c},"poista")))})))))},$t=Object(b.b)(null,{setAlert:k})((function(e){var t=e.foodPack,a=e.addFoodPack,l=e.updateFoodPack,i=e.setAlert,c=bt("text",t?t.name:null),o=Object(S.a)(c,1)[0],u=Object(n.useState)(t?t.foods:[]),s=Object(S.a)(u,2),d=s[0],m=s[1],f=Object(n.useState)(t?t.price:0),b=Object(S.a)(f,2),p=b[0],E=b[1],v=Object(n.useState)(t?t.kcal:0),g=Object(S.a)(v,2),k=g[0],j=g[1],h=Object(D.a)(ie);if(h.loading)return r.a.createElement("div",null,"...loading");var O=h.data.allFoods.filter((function(e){return!d.map((function(e){return e.id})).includes(e.id)})),y=function(){var e=Object(Ke.a)(Ue.a.mark((function e(n){var r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(o.value.length<4)){e.next=4;break}return i("danger","Nimen pituuden t\xe4ytyy olla v\xe4hint\xe4\xe4n 4 !"),e.abrupt("return");case 4:r={name:o.value,foods:d.map((function(e){return e.id}))},t?l(r):a(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h2",null,t?"P\xe4ivit\xe4 ".concat(t.name):"Luo uusi ruokapaketti"),r.a.createElement("strong",null,r.a.createElement("p",null,"Yhteishinta: ",p.toFixed(2)," \u20ac")),r.a.createElement("strong",null,r.a.createElement("p",null,"Yhteens\xe4 kcal: ",k)),r.a.createElement(At,{submit:y,name:o,foodsForDropdown:O,foods:d,handleSelect:function(e){var t=O.find((function(t){return t.id===e}));m(d.concat(t)),E(p+t.price),j(k+t.kcal)},removeFood:function(e){var t=d.find((function(t){return t.id===e.target.id}));m(d.filter((function(t){return t.id!==e.target.id}))),E(p-t.price),j(k-t.kcal)},foodPack:t}))})),Rt=Object(b.b)(null,{setAlert:k})((function(e){var t=e.setAlert,a=Object(ye.g)(),n=he("allFoodPacks",ve,"ADD"),l=Object(D.a)(ve),i=l.loading,c=l.data,o=Object(Ye.a)(ge,{update:function(e,t){var r=t.data.addFoodPack;n(r),a.push("/ruokapaketit/".concat(r.name))}}),u=Object(S.a)(o,1)[0];if(i)return r.a.createElement("div",null,"...loading");var s=c.allFoodPacks,d=s.map((function(e){return e.name})),m=function(){var e=Object(Ke.a)(Ue.a.mark((function e(a){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.includes(a.name)){e.next=3;break}return t("danger",'Ruokapaketti "'.concat(a.name,'" l\xf6ytyy jo, valitse toinen nimi')),e.abrupt("return");case 3:if(0!==a.foods.length){e.next=6;break}return t("danger","Ruokapaketissa t\xe4ytyy olla ruokia. Eih\xe4n siin\xe4 muuten olisi mit\xe4\xe4n j\xe4rke\xe4."),e.abrupt("return");case 6:n=0;case 7:if(!(n<s.length)){e.next=15;break}if(r=s[n].foods.map((function(e){return e.id})),!R()(r,a.foods)){e.next=12;break}return t("danger",'Ruokapaketissa "'.concat(s[n].name,'" on jo tismalleen samat ruoat')),e.abrupt("return");case 12:n++,e.next=7;break;case 15:return e.prev=15,e.next=18,u({variables:{name:a.name,foods:a.foods}});case 18:t("success","Ruokapaketti ".concat(a.name," lis\xe4tty!")),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(15),console.log("Error adding foodpack in NewFoodPack.js: ",e.t0.message),t("danger","Jotain meni vikaan. Yrit\xe4 uudelleen!");case 25:case"end":return e.stop()}}),e,null,[[15,21]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement($t,{addFoodPack:m}))})),Nt=Object(b.b)(null,{setAlert:k})((function(e){var t=e.setAlert,a=Object(n.useState)(!1),l=Object(S.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)([]),u=Object(S.a)(o,2),s=u[0],d=u[1],m=Object(ye.h)("/ruokapaketit/paivita/:name").params.name,f=he("allFoodPacks",ve,"UPDATE"),b=Object(Ye.a)(je,{update:function(e,t){f(t.data.updateFoodPack,s)}}),p=Object(S.a)(b,1)[0],E=Object(D.a)(ve);if(Object(n.useEffect)((function(){var e=E.data.allFoodPacks.find((function(e){return e.name===m}));E.loading||d(e.foods.map((function(e){return e.id})))}),[E.loading]),E.loading)return r.a.createElement("div",null,"...loading");var v=E.data.allFoodPacks.find((function(e){return e.name===m}));if(i)return r.a.createElement(ye.a,{to:"/ruokapaketit/".concat(v.name)});var g=function(){var e=Object(Ke.a)(Ue.a.mark((function e(a){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,p({variables:{id:v.id,name:a.name,foods:a.foods}});case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),c(!1),console.log("Error updating foodPack in UpdateFoodPack.js: ",e.t0.message),t("danger","Jotain meni vikaan. Yrit\xe4 uudelleen!");case 11:t("success","Ruokapaketti ".concat(v.name," p\xe4ivitetty!"));case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement($t,{foodPack:v,updateFoodPack:g}))})),Ct=a(92),Tt=a(159),_t=a(157),Ht=function(){var e=Object(n.useState)(!1),t=Object(S.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),c=Object(S.a)(i,2),o=c[0],u=c[1],s=Te("EMPTY"),d=Object(n.useRef)(null);return r.a.createElement("div",{style:{display:"inline-block",paddingLeft:"3vw"}},r.a.createElement($e.a,{variant:"danger",ref:d,onClick:function(){Ce.a.get("currentShopList")?(u(!0),setTimeout((function(){u(!1)}),3e3)):l(!0)}},"Tyhj\xe4\xe4 ostoslista"),r.a.createElement(Tt.a,{target:d.current,show:o,placement:"right"},r.a.createElement(_t.a,null,"Ostoslista on jo tyhj\xe4!")),r.a.createElement(Re.a,{show:a,onHide:function(){return l(!1)}},r.a.createElement(Re.a.Header,{closeButton:!0},r.a.createElement("strong",null,"HUOM!")),r.a.createElement(Re.a.Body,null,"T\xe4t\xe4 toimintoa ei voi peruttaa. Katkera setti jos menee hyv\xe4 ostoslista hukkaan."),r.a.createElement(Re.a.Footer,null,r.a.createElement($e.a,{variant:"primary",onClick:function(){return l(!1)}},"Peruuta"),r.a.createElement($e.a,{variant:"danger",onClick:function(){l(!1),s()}},"Tyhj\xe4\xe4 silti"))))};function qt(){var e=Object(N.a)(["\n  background: #ff99cc;\n"]);return qt=function(){return e},e}var Mt=Object(Ve.a)(Et.a.Item)(qt()),Bt=function(e){var t=e.ingredient,a=e.buttons,n=Object(ye.g)();return r.a.createElement("div",null,r.a.createElement(Et.a,{horizontal:!0,style:{margin:"0.1rem"}},r.a.createElement(Mt,null,t.name),r.a.createElement(Mt,null,t.priceRange.min.toFixed(2)," \u20ac -"," ",t.priceRange.max.toFixed(2)," \u20ac"),t.multiplier>1&&r.a.createElement(Mt,null,r.a.createElement("h2",null,r.a.createElement("strong",null,"x",t.multiplier))),a&&r.a.createElement(Mt,null,r.a.createElement($e.a,{variant:"primary",onClick:function(){return n.push("/ainesosat/".concat(t.name))}},"N\xe4yt\xe4")),a&&r.a.createElement(Mt,null,r.a.createElement(_e,{mode:"REMOVE",object:t,set:"ingredients",key:"".concat(t.id,"_button")}))))};function Vt(){var e=Object(N.a)(["\n  display: inline-block;\n"]);return Vt=function(){return e},e}function Qt(){var e=Object(N.a)(["\n  display: inline-block;\n"]);return Qt=function(){return e},e}function Ut(){var e=Object(N.a)(["\n  display: inline-block;\n"]);return Ut=function(){return e},e}var Kt=Object(Ve.a)(De.a.Header)(Ut()),Yt=Object(Ve.a)(_e)(Qt()),Jt=Object(Ve.a)($e.a)(Vt()),Wt=function(e){var t=e.food,a=e.buttons,n=Object(ye.g)();return r.a.createElement("div",null,r.a.createElement(De.a,{className:"foodCard"},r.a.createElement(Kt,null,"Ruoka",a&&r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(Jt,{variant:"primary",onClick:function(){return n.push("/ruoat/".concat(t.name))}},"N\xe4yt\xe4"),r.a.createElement(Yt,{mode:"REMOVE",object:t,set:"foods",key:"".concat(t.id,"_button")}))),r.a.createElement(De.a.Body,null,r.a.createElement(De.a.Title,null,t.name," ",t.multiplier>1&&r.a.createElement("h2",null,r.a.createElement("strong",null,"x",t.multiplier))),t.ingredients.map((function(e){return r.a.createElement(Bt,{ingredient:e.item,key:e.id})})))))},Gt=function(e){var t=e.foodPack,a=e.buttons,n=Object(ye.g)();return r.a.createElement("div",null,r.a.createElement(De.a,{className:"foodPackCard"},r.a.createElement(De.a.Header,null,"Ruokapaketti",a&&r.a.createElement("div",null,r.a.createElement($e.a,{variant:"primary",onClick:function(){return n.push("/ruokapaketit/".concat(t.name))}},"N\xe4yt\xe4"),r.a.createElement(_e,{mode:"REMOVE",object:t,set:"foodPacks",key:"".concat(t.id,"_button")}))),r.a.createElement(De.a.Body,null,r.a.createElement(De.a.Title,null,t.name," ",t.multiplier>1&&r.a.createElement("h2",null,r.a.createElement("strong",null,"x",t.multiplier))),t.foods.map((function(e){return r.a.createElement(Wt,{food:e,key:e.id})})))))},zt=function(e){var t=e.ingredients,a=e.foods,n=e.foodPacks;return r.a.createElement("div",null,r.a.createElement("h3",null,"Valitut Ruokapaketit"),0===n.length&&r.a.createElement("div",null,"Ei valittuja ruokapaketteja"),n.map((function(e){return r.a.createElement(Gt,{foodPack:e,key:e.id,buttons:!0})})),r.a.createElement("h3",null,"Valitut Ruoat"),0===a.length&&r.a.createElement("div",null,"Ei valittuja ruokia"),a.map((function(e){return r.a.createElement(Wt,{food:e,key:e.id,buttons:!0})})),r.a.createElement("h3",null,"Valitut Ainesosat"),0===t.length&&r.a.createElement("div",null,"Ei valittuja ainesosia"),t.map((function(e){return r.a.createElement(Bt,{ingredient:e,key:e.id,buttons:!0})})))},Xt=function(e){var t=e.shopList;return 0===t.length?r.a.createElement("h4",null,"Ostoslista on tyhj\xe4!"):r.a.createElement(Et.a,{variant:"flush"},t.map((function(e){return r.a.createElement(Et.a.Item,{key:e.id},e.name," / ",e.priceRange.min.toFixed(2)," \u20ac -"," ",e.priceRange.max.toFixed(2)," \u20ac /",r.a.createElement("strong",null," x",e.multiplier))})))},Zt=Object(b.b)((function(e){return{foodPacks:e.shopList.foodPacks,foods:e.shopList.foods,ingredients:e.shopList.ingredients,shopListIds:e.shopList.shopListIds}}))((function(e){var t=Object(n.useState)("overview"),a=Object(S.a)(t,2),l=a[0],i=a[1],c=Object(D.a)(K),o=Object(D.a)(ie),u=Object(D.a)(ve);if(c.loading||o.loading||u.loading)return r.a.createElement("div",null,"...loading");var s=e.foodPacks.map((function(e){var t=u.data.allFoodPacks.find((function(t){return t.id===e.id}));return Object(O.a)({},t,{multiplier:e.count})})),d=e.foods.map((function(e){var t=o.data.allFoods.find((function(t){return t.id===e.id}));return Object(O.a)({},t,{multiplier:e.count})})),m=e.ingredients.map((function(e){var t=c.data.allIngredients.find((function(t){return t.id===e.id}));return Object(O.a)({},t,{multiplier:e.count})})),f=e.shopListIds.map((function(e){var t=c.data.allIngredients.find((function(t){return t.id===e.id}));return Object(O.a)({},t,{multiplier:e.count})}));return f.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})),r.a.createElement(De.a,null,r.a.createElement(De.a.Header,null,r.a.createElement("h2",null,"Ostoslista",r.a.createElement(Ht,null)),r.a.createElement(Ct.a,{variant:"tabs",defaultActiveKey:"#yleisn\xe4kym\xe4"},r.a.createElement(Ct.a.Item,null,r.a.createElement(Ct.a.Link,{href:"#yleisn\xe4kym\xe4",onSelect:function(){return i("overview")}},"Yleisn\xe4kym\xe4")),r.a.createElement(Ct.a.Item,null,r.a.createElement(Ct.a.Link,{href:"#lista",onSelect:function(){return i("shoplist")}},"Lista")))),r.a.createElement(De.a.Body,null,"overview"===l&&r.a.createElement(zt,{foodPacks:s,foods:d,ingredients:m}),"shoplist"===l&&r.a.createElement(Xt,{shopList:f})))})),ea=Object(b.b)(null,{setAlert:k})((function(e){var t=e.setAlert,a=Object(ye.g)(),n=Object(ye.h)("/ainesosat/paivita/:name").params.name,l=he("allIngredients",K,"UPDATE"),i=Object(Ye.a)(G,{update:function(e,t){l(t.data.updateIngredient),a.push("/ainesosat/".concat(n))}}),c=Object(S.a)(i,1)[0],o=Object(D.a)(K),u=o.data;if(!0===o.loading)return r.a.createElement("div",null,"...loading");var s=u.allIngredients.find((function(e){return e.name===n})),d=function(){var e=Object(Ke.a)(Ue.a.mark((function e(a){var r,l,i,o,u,d,m,f,b,p,E,v;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.name,l=a.prices,i=a.brand,o=a.pieces,u=a.weight,d=a.kcal,m=a.fat,f=a.saturatedFat,b=a.carbs,p=a.sugars,E=a.protein,v=a.salt,e.next=4,c({variables:Object(O.a)({id:s.id},r&&{name:r},{},l&&{prices:l},{},i&&{brand:i},{},o&&{pieces:o},{},u&&{weight:u},{},d&&{kcal:d},{},m&&{fat:m},{},f&&{saturatedFat:f},{},b&&{carbs:b},{},p&&{sugars:p},{},E&&{protein:E},{},v&&{salt:v})});case 4:t("success","Ainesosa ".concat(n," p\xe4ivitetty!")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error updating ingredient in UpdateIngredient.js: ",e.t0.message),t("danger","Hmm... yrit\xe4pp\xe4 uudemman kerran. Jotain on vialla.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(pt,{ingredient:s,update:d}))})),ta=function(){return r.a.createElement("div",null,r.a.createElement(ye.d,null,r.a.createElement(ye.b,{path:"/ostoslista"},r.a.createElement(Zt,null)),r.a.createElement(ye.b,{path:"/ruokapaketit/paivita/:name"},r.a.createElement(Nt,null)),r.a.createElement(ye.b,{path:"/ruokapaketit/uusi"},r.a.createElement(Rt,null)),r.a.createElement(ye.b,{path:"/ruokapaketit/:name"},r.a.createElement(mt,null)),r.a.createElement(ye.b,{path:"/ruokapaketit"},r.a.createElement(ot,null)),r.a.createElement(ye.b,{path:"/ruoat/paivita/:name"},r.a.createElement(Dt,null)),r.a.createElement(ye.b,{path:"/ruoat/uusi"},r.a.createElement(Lt,null)),r.a.createElement(ye.b,{path:"/ruoat/:name"},r.a.createElement(it,null)),r.a.createElement(ye.b,{path:"/ruoat"},r.a.createElement(qe,null)),r.a.createElement(ye.b,{path:"/ainesosat/paivita/:name"},r.a.createElement(ea,null)),r.a.createElement(ye.b,{path:"/ainesosat/uusi"},r.a.createElement(pt,null)),r.a.createElement(ye.b,{path:"/ainesosat/:name"},r.a.createElement(tt,null)),r.a.createElement(ye.b,{path:"/ainesosat"},r.a.createElement(Be,null)),r.a.createElement(ye.b,{exact:!0,path:"/"},r.a.createElement(we,null)),r.a.createElement(ye.b,{path:"*"},r.a.createElement(ye.a,{to:"/"}))))},aa=a(122),na=(a(181),Object(b.b)((function(e){return{toasts:e.alerts}}))((function(e){var t=e.toasts,a=Object(n.useState)([]),l=Object(S.a)(a,2),i=l[0],c=l[1];if(0===t.length)return null;var o=t.filter((function(e){return!i.includes(e.id)}));return o.length>0?r.a.createElement("div",null,r.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",className:"toast-container"},o.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(aa.a,{className:"toast-box",onClose:function(){return t=e.id,void c(i.concat(t));var t}},r.a.createElement(aa.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},e.header)),r.a.createElement(aa.a.Body,null,e.body)))})))):null}))),ra=(a(182),function(e){var t="side_drawer";return e.show&&(t="side_drawer open"),r.a.createElement("nav",{className:t},r.a.createElement("ul",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(w.b,{to:"/ruokapaketit"},"Ruokapaketit")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"/ruoat"},"Ruoat")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"/ainesosat"},"Ainesosat")))))}),la=(a(183),function(e){var t=e.backDropClickHandler;return r.a.createElement("div",{className:"back_drop",onClick:t,onKeyDown:t,role:"button","aria-label":"Close side drawer",tabIndex:"0"})}),ia=function(){var e=Object(D.a)(K),t=Object(D.a)(ie),a=Object(D.a)(ve),l=Object(n.useState)(!1),i=Object(S.a)(l,2),c=i[0],o=i[1];if(Te("INITSHOPLIST"),Oe(),e.loading||t.loading||a.loading)return r.a.createElement("div",null,"...loading");return r.a.createElement("div",{className:"container"},r.a.createElement(w.a,null,r.a.createElement(xe,{drawerClickHandler:function(){o(!c)}}),r.a.createElement(ra,{show:c}),c&&r.a.createElement(la,{backDropClickHandler:function(){o(!1)}}),r.a.createElement("main",null,r.a.createElement(ta,null),r.a.createElement(na,null))))},ca=new c.a({uri:"/graphql"}),oa=new f.a({uri:"ws://goshopvege.herokuapp.com/graphql",options:{reconnect:!0}}),ua=Object(o.a)((function(e){var t=e.query,a=Object(m.a)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation}),oa,ca),sa=new u.a({cache:new s.a,link:ua,connectToDevTools:!0});i.a.render(r.a.createElement(b.a,{store:x},r.a.createElement(d.a,{client:sa},r.a.createElement(ia,null))),document.getElementById("root"))},74:function(e,t,a){}},[[164,1,2]]]);
//# sourceMappingURL=main.43bf0f68.chunk.js.map